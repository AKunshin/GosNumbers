# –°–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
-------

# –ó–∞–¥–∞–Ω–∏–µ

REST-API (Python)
1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ–¥ —Å–ª–µ–¥—É—é—â–∏–µ –ø—É–Ω–∫—Ç—ã –∑–∞–¥–∞–Ω–∏—è
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥: GET | /PLATE/GENERATE (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
* –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: token, amount
* –ì–¥–µ: token ‚Äì Bearer-—Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, amount ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ –æ—Ç–≤–µ—Ç–µ
* –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: token ‚Äì –ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç, amount ‚Äì int or null, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –≤–µ—Ä–Ω—É—Ç—å –æ–¥–∏–Ω –Ω–æ–º–µ—Ä. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–æ–∫–µ–Ω, –≤–µ—Ä–Ω—É—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥: GET | /PLATE/GET (–ü–æ–ª—É—á–µ–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
* –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: token, id
* –í–µ—Ä–Ω—É—Ç—å –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–ø–∏—Å–∏
* –ì–¥–µ: token ‚Äì Bearer-—Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, id ‚Äì –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–æ–º–µ—Ä–µ –∞–≤—Ç–æ
* –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: token ‚Äì –ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç, id ‚Äì –ª—é–±–æ–π (–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ uuid4 üòä). –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–æ–∫–µ–Ω, –≤–µ—Ä–Ω—É—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.

4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥: POST | /PLATE/ADD (–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö)
* –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: token, plate
* –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
* –ì–¥–µ: token ‚Äì Bearer-—Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, plate ‚Äì –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä
* –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: token ‚Äì –ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç, plate ‚Äì str. –û–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –∫ –ø–µ—Ä–µ–¥–∞—á–µ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –≤–µ—Ä–Ω—É—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –∫–ª–∏–µ–Ω—Ç—É.
* –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: –õ—é–±—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–∞ Python
* –í —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫ –≤—ã–¥–∞–≤–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã.

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
-------
```
git clone https://github.com/AKunshin/GosNumbers.git
cd avto_numbers
python3 -m venv env
```
–î–ª—è Linux:
```
. ./env/bin/activate
```

–î–ª—è Windows:
```
.\env\Scripts\activate
```
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –ø–æ –æ–±—Ä–∞–∑—Ü—É .env_example:

```
DJ_SECRET_KEY = your_django_secret_key
DB_NAME = db_name
DB_USER = db_user
DB_PASSWORD = db_password
```
–î–∞–ª–µ–µ —Å–Ω–æ–≤–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
pip install -r requirements.txt
python manage.py makemigrations
python manage.py migrate
python manage.py runserver
```
#### –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```
python manage.py createsuperuser
```
–î–ª—è –ø—Ä–∏–º–µ—Ä–∞, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è admin, –ø–∞—Ä–æ–ª—å 1234

#### –ü–æ–ª—É—á–µ–Ω–∏–µ jwt-token

–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞  —Å—Ç—Ä–∞–Ω–∏—Ü—É:
```
http://localhost:8000/token/
```
–í–≤–µ—Å—Ç–∏ —Å–≤–æ–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞—Ä—ã –∫–ª—é—á–µ–π
refresh –∏ access.

–õ–∏–±–æ —Å –ø–æ–º–æ—â—å—é curl:
```
curl -X POST -H "Content-Type: application/json" -d '{"username":"admin", "password":"1234"}' http://localhost:8000/token/ 
```
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–∞–Ω–Ω—ã–µ access-–∫–ª—é—á–∞. –°—Ä–æ–∫ –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è - 5 –º–∏–Ω—É—Ç.
–ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è access-–∫–ª—é—á–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ 
```
http://localhost:8000/token/refresh/
```
–ò –≤–≤–µ—Å—Ç–∏ refresh –∫–ª—é—á, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ access-–∫–ª—é—á–∞.
```
curl -X POST -H "Content-Type: application/json" -d '{"refresh":"–í–∞—à refresh-–∫–ª—é—á"}' http://localhost:8000/token/refresh/
```

#### –ú–µ—Ç–æ–¥ PLATE/GENERATE
–ú–µ—Ç–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω–Ω–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ—Å. –Ω–æ–º–µ—Ä–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

–ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –ø–æ http://localhost:8000/plate/generate/ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∂–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–º–µ—Ä–æ–≤
```
curl -X GET -H "Authorization: Bearer –í–∞—à_access-token" -H "Content-Type: application/json" http://localhost:8000/plate/generate/?amount=–∂–µ–ª–∞–µ–º–æ–µ_–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–Ω–æ–º–µ—Ä–æ–≤
```
–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å amount, –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω 1 –Ω–æ–º–µ—Ä

#### –ú–µ—Ç–æ–¥ PLATE/GET
–ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –∏–∑ –ë–î. id ‚Äì –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ uuid4

```
curl -X GET -H "Authorization: Bearer –í–∞—à_access-token" -H "Content-Type: application/json" http://localhost:8000/plate/get/?id=–ù—É–∂–Ω—ã–π_–≤–∞–º_uuid
```

#### –ú–µ—Ç–æ–¥ PLATE/ADD
–ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Å.–Ω–æ–º–µ—Ä –≤—Ä—É—á–Ω—É—é

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–æ–º–µ—Ä—É:

–ë—É–∫–≤—ã - —Ç–æ–ª—å–∫–æ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞: –ê,–í,–ï,–ö,–ú,–ù,–û,–†,–°,–¢,–£,–•

–ú–∞—Å–∫–∞ –Ω–æ–º–µ—Ä–∞: 1 –±—É–∫–≤–∞, 3 —Ü–∏—Ñ—Ä—ã, 2 –±—É–∫–≤—ã

```
curl -X POST -H "Authorization: Bearer –í–∞—à_access-token" -H "Content-Type: application/json" -d '{"plate":"–ì–û–°–ù–û–ú–ï–†"}' http://localhost:8000/plate/add/ 
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é unittest.

Coverage 95%
